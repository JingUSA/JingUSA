{
  "hash": "6b8a1ffeda90e2a08c3e20751ea771d5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Assignment 2\"\nauthor: \"Jing Tao\"\ndate: \"2025-10-01\"\nformat:\n  html:\n    theme: cosmo\n    toc: true\n    toc-title: \"On this page\"\n    toc-location: left\n    number-sections: true\n    css: styles.css\npage-layout: article\n---\n\n\n\n\n# 1. Run Paul Murrell’s RGraphics basic R programs (murrell01.R)\n\na.  Run line by line and note the changes\\\nb.  Pay attention to the comments and answer the questions if any\n\n------------------------------------------------------------------------\n\n## 1) Start plotting from basics (pressure + text)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(pressure, pch = 16)\ntext(\n  150, 600,\n  \"Pressure (mm Hg)\\nversus\\nTemperature (Celsius)\"\n)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nx  <- c(0.5, 2, 4, 8, 12, 16)\ny1 <- c(1, 1.3, 1.9, 3.4, 3.9, 4.8)\ny2 <- c(4, 0.8, 0.5, 0.45, 0.4, 0.3)\n\npar(las = 1,\nmar = c(4, 4, 2, 4),\ncex = .7)\n\nplot.new()\nplot.window(range(x), c(0, 6))\n\nlines(x, y1)\nlines(x, y2)\n\npoints(x, y1, pch = 16, cex = 2)                 # Try different cex?\npoints(x, y2, pch = 21, bg = \"white\", cex = 2)   # Different background color\n\npar(col = \"gray50\", fg = \"gray50\", col.axis = \"gray50\")\n\naxis(1, at = seq(0, 16, 4))                      # 1=bottom, 2=left, 3=top, 4=right\naxis(2, at = seq(0, 6, 2))\naxis(4, at = seq(0, 6, 2))\n\nbox(bty = \"u\")\n\nmtext(\"Travel Time (s)\",      side = 1, line = 2, cex = 0.8)\nmtext(\"Responses per Travel\", side = 2, line = 2, las = 0, cex = 0.8)\nmtext(\"Responses per Second\", side = 4, line = 2, las = 0, cex = 0.8)\n\ntext(4, 5, \"Bird 131\")\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(\nmar      = c(5.1, 4.1, 4.1, 2.1),\ncol      = \"black\",\nfg       = \"black\",\ncol.axis = \"black\"\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Random data\n\nY <- rnorm(50)\n\n# Make sure no Y exceed [-3.5, 3.5]\n\nY[Y < -3.5 | Y > 3.5] <- NA\n\nx  <- seq(-3.5, 3.5, .1)\ndn <- dnorm(x)\n\npar(mar = c(4.5, 4.1, 3.1, 0))\n\nhist(\nY,\nbreaks = seq(-3.5, 3.5),\nylim   = c(0, 0.5),\ncol    = \"gray80\",\nfreq   = FALSE\n)\n\nlines(x, dnorm(x), lwd = 2)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar = c(5.1, 4.1, 4.1, 2.1))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mar = c(2, 3.1, 2, 2.1))\n\nmidpts <- barplot(\nVADeaths,\ncol   = gray(0.1 + seq(1, 9, 2) / 11),\nnames = rep(\"\", 4)\n)\n\nmtext(\nsub(\" \", \"\\n\", colnames(VADeaths)),\nat   = midpts,\nside = 1,\nline = 0.5,\ncex  = 0.5\n)\n\ntext(\nrep(midpts, each = 5),\napply(VADeaths, 2, cumsum) - VADeaths / 2,\nVADeaths,\ncol = rep(c(\"white\", \"black\"), times = 3:2),\ncex = 0.8\n)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar = c(5.1, 4.1, 4.1, 2.1))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mar = c(3, 4.1, 2, 0))\n\nboxplot(\nlen ~ dose,\ndata   = ToothGrowth,\nboxwex = 0.25,\nat     = 1:3 - 0.2,\nsubset = supp == \"VC\",\ncol    = \"white\",\nxlab   = \"\",\nylab   = \"tooth length\",\nylim   = c(0, 35)\n)\n\nmtext(\"Vitamin C dose (mg)\", side = 1, line = 2.5, cex = 0.8)\n\nboxplot(\nlen ~ dose,\ndata   = ToothGrowth,\nadd    = TRUE,\nboxwex = 0.25,\nat     = 1:3 + 0.2,\nsubset = supp == \"OJ\"\n)\n\nlegend(\n1.5, 9,\nc(\"Ascorbic acid\", \"Orange juice\"),\nfill = c(\"white\", \"gray\"),\nbty  = \"n\"\n)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar = c(5.1, 4.1, 4.1, 2.1))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- seq(-10, 10, length = 30)\ny <- x\n\nf <- function(x, y) {\nr <- sqrt(x^2 + y^2)\n10 * sin(r) / r\n}\n\nz <- outer(x, y, f)\nz[is.na(z)] <- 1\n\npar(mar = c(0, 0.5, 0, 0), lwd = 0.5)\npersp(x, y, z, theta = 30, phi = 30, expand = 0.5)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n\n```{.r .cell-code}\npar(mar = c(5.1, 4.1, 4.1, 2.1), lwd = 1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mar = c(0, 2, 1, 2), xpd = FALSE, cex = 0.5)\n\npie.sales <- c(0.12, 0.3, 0.26, 0.16, 0.04, 0.12)\nnames(pie.sales) <- c(\n\"Blueberry\", \"Cherry\", \"Apple\",\n\"Boston Cream\", \"Other\", \"Vanilla\"\n)\n\npie(\npie.sales,\ncol = gray(seq(0.3, 1.0, length = 6))\n)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\n\nhpi_path <- \"/Users/jingtao/Desktop/FALL 2025/DATA VISUALIZATION/Assignment 2/HPI_2024_public_dataset.xlsx\"\n\ndf <- tryCatch(\nread_excel(hpi_path, sheet = \"All Data\",        skip = 1),\nerror = function(e) read_excel(hpi_path, sheet = \"1. All countries\", skip = 8)\n)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in A2436 / R2436C1: got 'Coefficients used'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in A2444 / R2444C1: got 'Year by year data'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in G2444 / R2444C7: got 'Means'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in L2444 / R2444C12: got 'Stdevs'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in Q2444 / R2444C17: got 'CoVs'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in D2445 / R2445C4: got 'Scale up factor for year'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in E2445 / R2445C5: got 'Global Pop'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in G2445 / R2445C7: got 'LifeExp'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in H2445 / R2445C8: got 'Ladder'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in I2445 / R2445C9: got 'Carbon'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in J2445 / R2445C10: got 'Adj Lad x Life Exp'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in L2445 / R2445C12: got 'LifeExp'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in M2445 / R2445C13: got 'Ladder'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in N2445 / R2445C14: got 'Carbon'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in Q2445 / R2445C17: got 'LifeExp'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in R2445 / R2445C18: got 'Ladder'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in U2445 / R2445C21: got 'Carbon'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in V2445 / R2445C22: got 'Adj Lad x Life Exp'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2446 / R2446C24: got 'A'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2446 / R2446C25: got 'Year_lookup!A1:A2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2447 / R2447C24: got 'B'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2447 / R2447C25: got 'Year_lookup!B1:B2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2448 / R2448C24: got 'C'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2448 / R2448C25: got 'Year_lookup!C1:C2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2449 / R2449C24: got 'D'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2449 / R2449C25: got 'Year_lookup!D1:D2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2450 / R2450C24: got 'E'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2450 / R2450C25: got 'Year_lookup!E1:E2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2451 / R2451C25: got 'Year_lookup!F1:F2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2452 / R2452C24: got 'G'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2452 / R2452C25: got 'Year_lookup!G1:G2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2453 / R2453C24: got 'H'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2453 / R2453C25: got 'Year_lookup!H1:H2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2454 / R2454C24: got 'I'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2454 / R2454C25: got 'Year_lookup!I1:I2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2455 / R2455C24: got 'J'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2455 / R2455C25: got 'Year_lookup!J1:J2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2456 / R2456C24: got 'K'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2456 / R2456C25: got 'Year_lookup!K1:K2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2457 / R2457C24: got 'L'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2457 / R2457C25: got 'Year_lookup!L1:L2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2458 / R2458C24: got 'M'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2458 / R2458C25: got 'Year_lookup!M1:M2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2459 / R2459C24: got 'N'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2459 / R2459C25: got 'Year_lookup!N1:N2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2460 / R2460C24: got 'O'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2460 / R2460C25: got 'Year_lookup!O1:O2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in X2461 / R2461C24: got 'P'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting logical in Y2461 / R2461C25: got 'Year_lookup!P1:P2'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in A2466 / R2466C1: got 'Average of all years'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in E2468 / R2468C5: got 'Correlation with HPI'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in P2468 / R2468C16: got 'Extra HPLY (above min)'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Expecting numeric in E2469 / R2469C5: got 'Correlation with HPI\n(2015)'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nNew names:\n• `` -> `...15`\n• `` -> `...22`\n• `` -> `...23`\n• `` -> `...24`\n• `` -> `...25`\n```\n\n\n:::\n\n```{.r .cell-code}\n# figure out column names for 2 possible sheet layouts\n\nif (\"LifeExp\" %in% names(df)) {\nlife_col    <- \"LifeExp\"                  # All Data\nhpi_col     <- \"HPI\"\ncountry_col <- \"Country\"\nregion_col  <- \"Continent\"\n} else {\nlife_col    <- \"Life Expectancy (years)\"  # 1. All countries\nhpi_col     <- \"HPI\"\ncountry_col <- \"Country\"\nregion_col  <- \"Continent\"\n}\n\nok    <- complete.cases(df[[life_col]], df[[hpi_col]])\nx_le  <- as.numeric(df[[life_col]][ok])   # life expectancy\ny_hpi <- as.numeric(df[[hpi_col]][ok])    # HPI score\ncty   <- df[[country_col]][ok]\nreg   <- df[[region_col]][ok]\n\nlength(x_le); length(y_hpi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2135\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2135\n```\n\n\n:::\n\n```{.r .cell-code}\nhead(\ndata.frame(\ncountry = cty,\nlifeexp = x_le,\nhpi     = y_hpi\n),\n6\n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n      country lifeexp      hpi\n1     Vanuatu  70.449 57.86116\n2      Sweden  82.983 55.93532\n3 El Salvador  70.748 54.67388\n4  Costa Rica  77.023 54.13215\n5   Nicaragua  73.837 53.56492\n6     Denmark  81.375 53.04326\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(las = 1, mar = c(4, 4, 1.5, 1))\nplot(\nx_le, y_hpi,\npch  = 16,\nxlab = \"Life expectancy (years)\",\nylab = \"HPI score\"\n)\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(\nx_le, y_hpi,\npch  = 16,\nxlab = \"Life expectancy\",\nylab = \"HPI score\"\n)\n\no <- order(x_le)\nlines(x_le[o], y_hpi[o], col = \"gray80\")\n```\n\n::: {.cell-output-display}\n![](A2_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::",
    "supporting": [
      "A2_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}